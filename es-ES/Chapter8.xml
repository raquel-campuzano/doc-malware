<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "manual.ent">
<!ENTITY PRODUCT "Documentation">
<!ENTITY BOOKID "manual">
<!ENTITY YEAR "2016">
<!ENTITY HOLDER "Eneo Tecnología S.L. |">
]>
<chapter>
	<title>Endpoint</title>
	<para>El software Endpoint ha sido diseñado para la monitorización y análisis de la actividad de los equipos/sistemas 
	que forman parte de la infraestructura de red de una compañía y que serán analizados mediante la App redborder Malware. (En el caso que nos 
	ocupa, los equipos analizados por el Manager de redborder corresponden al modelo Windows 7). </para> 
	<!-->
	<para>El escenario diseñado para el control de los Endpoints se compone de los siguientes elementos:</para>
	<itemizedlist mark="bullet">
		<listitem>
			<para><emphasis role="bold">Endpoints:</emphasis> equipos o sistemas finales.</para>
		</listitem>
		<listitem>
			<para><emphasis role="bold">Agente de carga:</emphasis> programa que intercepta información sobre la actividad que se produce en el equipo (recepción y creación de ficheros, descargas, conexiones, etc.).</para>
		</listitem>
		<listitem>
			<para><emphasis role="bold">Agente GRR:</emphasis> servicio que se encarga de consultar y obtener información sobre el sistema. </para>
		</listitem>
		<listitem>
			<para><emphasis role="bold">Caché local:</emphasis> el agente de carga realiza siempre una consulta a la caché local sobre el fichero interceptado; en caso de que el hash del fichero
			sea reconocido por la caché local, el fichero no será enviado a S3 para su almacenamiento aunque sí se emitirá un mensaje de Kafka que contiene información sobre el mismo. </para>
		</listitem>
		<listitem>
			<para><emphasis role="bold">Manager</emphasis></para>
			<para>Kafka</para>
			<para>S3</para>
			<para>Acceso a servidor GRR</para>
		</listitem>
		<listitem>
			<para><emphasis role="bold">Logs:</emphasis> archivo en el que se almacena toda la información relativa al funcionamiento del agente de carga.</para>
		</listitem>
		<listitem>
			<para><emphasis role="bold">Bitácora:</emphasis> actúa a modo de caja negra;
			 en ella se almacenan toda la información relativa a los eventos generados por los procesos, conexiones o ficheros capturados por el Agente de Carga a lo largo del tiempo.  </para>
		</listitem>
	</itemizedlist>
	</!-->
	<section>
		<title>¿Qué acciones se pueden realizar desde la plataforma web redborder para el control de Endpoints?</title>
		<para>El usuario puede realizar diferentes acciones desde el entorno web de redborder tanto para la instalación de los agentes de carga y GRR como para el análisis y tratamiento 
		de la información proporcionada por ellos: </para>
		<itemizedlist mark="bullet">
			<listitem>
				<para><emphasis role="bold">Descarga del Endpoint:</emphasis> instalación del Agente de Carga y GRR. </para>
			</listitem>
			<listitem>
				<para><emphasis role="bold">Visualización de datos de Endpoints:</emphasis> desde la plataforma redborder el usuario puede
				consultar información relativa a cada dispositivo y su estado.</para>
			</listitem>
			<listitem>
				<para><emphasis role="bold">Alertas/Snapshots:</emphasis> Información sobre cambios de estado de los Endpoints y descarga de Snapshots o capturas que permiten realizar un análisis 
				comparativo del estado de los endpoints en un momento determinado.</para>
			</listitem>
			<listitem>
				<para><emphasis role="bold">Descarga de los eventos de logs:</emphasis> Descarga de información detallada de la actividad registrada por el Agente de Carga. </para>
			</listitem>
			<listitem>
				<para><emphasis role="bold">Configuración servidor y acceso al panel GRR</emphasis> 
				</para>
			</listitem>
			<listitem>
				<para><emphasis role="bold">Visualización de eventos Malware: </emphasis> relacionados con los cambios de estado de lso Endpoints. </para>
			</listitem>
		</itemizedlist>
	</section>
	<section>
		<title>Descarga e instalación del Endpoint</title>
		<para>El primer paso que debe realizar todo usuario es la descarga del software Endpoint para su instalación en un equipo final. Una vez instalado, el equipo
		podrá comunicarse con el Agente de carga y GRR; de este modo la plataforma web redborder podrá recibir toda la información relacionada con este punto de acceso.</para>
		<para>La descarga del Endpoint se realiza en cuatro sencillos pasos y su instalación es completamente transparente para el usuario:</para>
		<orderedlist numeration="arabic">
			<listitem>
				<para>Acudir a la sección Sensors->View</para>
			</listitem>
			<listitem>
				<para>Seleccionar en el menú View la opción <literal>Endpoints</literal></para>
			</listitem>
			<listitem>
				<para>Hacer clic en <literal>New Endpoint Installer</literal> para comenzar el procedimiento de descarga del archivo ejecutable (formato .zip) preparado para la instalación del Endpoint.
				Seleccionar previamente la distribución del sistema: 32/64bits.</para>
				<para>Hacer clic en <literal>Create</literal> para finalizar el proceso de descarga del fichero.</para>
			</listitem>
			<listitem>
				<para>Descomprimir el archivo .zip y ejecutarlo. Recuerde que, para este último paso, el usuario debe poseer los privilegios de <emphasis role="bold">administrador.</emphasis>
				del sistema.</para>
			</listitem>
		</orderedlist>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="450" fileref="images/ch08_img001.png"/>
			</imageobject>
			<caption>
				<para>Sensors->View</para>
			</caption>
		</mediaobject>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="450" fileref="images/ch08_img002.png"/>
			</imageobject>
			<caption>
				<para>View->New Endpoint Installer</para>
			</caption>
		</mediaobject>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="450" fileref="images/ch08_img003.png"/>
			</imageobject>
			<caption>
				<para>Creación de un Endpoint</para>
			</caption>
		</mediaobject>
		<section>
			<title>Requisitos para la instalación del Endpoint</title>
			<para>Una vez que el usuario se ha descargado el instalador en su equipo el siguiente paso es descomprimir el archivo ejecutable que contiene los siguientes ficheros que contienen las 
			configuraciones necesarias para que el Agente de Carga y GRR funcionen de manera correcta.</para>
			<itemizedlist mark="bullet">
				<listitem>
					<para>redBorder_endpoint_[arquitectura].msi (instalador)</para>
				</listitem>
				<listitem>
					<para>parameters.yml</para>
				</listitem>
				<listitem>
					<para>hosts</para>
				</listitem>
				<listitem>
					<para>S3.redborder.cluster.crt</para>
				</listitem>
				<listitem>
					<para>GRR_[version]_[arquitectura].exe</para>
				</listitem>
			</itemizedlist>
			<para>Uno de los elementos que son instalados al ejecutar el fichero Endpoint es el Agente de Carga. Este se encuentra autocontenido en el fichero instalador.
			Dependiendo de la distribución de su sistema, el Agente de Carga se instalará en un directorio u otro: </para>
			<para><emphasis role="bold">32 Bits:</emphasis></para>
			<para><screen>endpoint_installer_32-> c:\Program Files\redBorder Malware EndPoint</screen></para>
			<para><emphasis role="bold">64 Bits:</emphasis></para>
			<para><screen>endpoint_installer_64-> c:\Program Files\redBorder Malware EndPoint</screen></para>
			<para><screen>endpoint_installer_32-> c:\Program Files (X86)\redBorder Malware EndPoint</screen></para>
			<note>
				<title>Nota </title>
				<para>Durante el proceso de instalación del Agente de Carga, se descargarán los siguientes elementos para el correcto funcionamiento del mismo:</para>
				<para>-Python 3.4.3</para>
				<para>-Librerías de Python</para>
				<para>-Certificado de S3 en el store de Windows dentro del apartado del navegador "Certificaciones de confianza raíz"</para>
				<para>-Actualización de etc/hosts</para>
				<para>-Agente de carga como servicio de Windows</para>
			</note>
		</section>
		<section>
			<title>Proceso de verificación de la instalación del Endpoint</title>
			<para>Existen dos métodos para verificar que la instalación se ha realizado correctamente en su equipo: verificación básica y
			verificación avanzada.</para>
			<para><emphasis role="bold">Verificación básica de la instalación</emphasis></para>
			<para>Para realizar una verificación rápida el usuario debe buscar el archivo de confirmación de la instalación que podrá encontrar en la siguiente ruta:
			Archivos de programa->redBorder Malware Endpoint->InstallLog. </para>
			<mediaobject>
				<imageobject>
					<imagedata scalefit="1" align="center" width="450" fileref="images/ch08_img004.png"/>
				</imageobject>
				<caption>
					<para>Verificación básica de la instalación del Endpoint</para>
				</caption>
			</mediaobject>
			<para>Si la instalación ha sido correcta, el usuario al abrir el archivo visualizará un mensaje similar al que aparece en la siguiente imagen: </para>
			<mediaobject>
				<imageobject>
					<imagedata scalefit="1" align="center" width="450" fileref="images/ch08_img005.png"/>
				</imageobject>
				<caption>
					<para>Verificación básica de la instalación del Endpoint: Mnesaje archivo InstallLog</para>
				</caption>
			</mediaobject>
			<para><emphasis role="bold">Verificación avanzada de la instalación</emphasis></para>	
			<para></para>
		</section>
		
	</section>

	
</chapter>
