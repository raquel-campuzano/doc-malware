<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "manual.ent">
<!ENTITY PRODUCT "Documentation">
<!ENTITY BOOKID "manual">
<!ENTITY YEAR "2016">
<!ENTITY HOLDER "Eneo Tecnología S.L. |">
]>
<chapter>
	<title>Operativa básica de Malware</title>
	<para>El objetivo de este apartado es mostrar aquellas acciones de la operativa básica de la solución que, 
	mediante la interacción entre las diferentes vistas web, permiten identificar riesgos de seguridad, 
	trabajar sobre ellos para obtener información, conocer su propagación en la infraestructura e incluso 
	llegar a tomar acciones que ayuden a la mitigación de una amenaza detectada. Es por ello que no se van a 
	mostrar todas las acciones que se pueden realizar sobre  la plataforma, sino aquellas consideradas más básicas 
	y habituales desde la perspectiva de un equipo de monitorización y gestión de incidentes de seguridad.
	</para>
	<section>
		<title>Recepción de nuevas alertas e identificación del motivo</title>
		<para>En este caso se presenta la operativa más habitual, consistente en la recepción de una nueva alerta y 
		la obtención de los detalles por los cuales ha sido producida, así como información relevante que permita 
		su identificación y rastreo en el sistema.</para>
		<para>A partir del dashboard Malware Alerts, en el widget Recent Malware se muestra en tiempo real cada alerta 
		tan pronto como algún elemento ha superado el umbral a partir del cual se considera Malware.</para>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="450" fileref="images/ch12_img001.png"/>
			</imageobject>
			<caption>
				<para>Imagen del widget Recent Malware con alertas</para>
			</caption>
		</mediaobject>
		<para>Tal y como se indica anteriormente en el manual, la entrada correspondiente a esa alerta en sí ya muestra información relevante para su identificación. 
		En este caso, el Score muestra el motivo por el cual ha 
		sido generada y, a partir de ahí, al hacer clic con el botón izquierdo del ratón sobre el elemento, p.ej. un hash, el menú desplegable ofrece la posibilidad de visualizar el detalle del análisis, el detalle de la evolución
		y el detalle de la propagación de ese ítem por los diferentes motores de análisis y detección de Malware.		
		</para>
		<section>
			<title>Detalle del análisis</title>
			<para>En esta vista se muestra el resultado de cada uno de los cargadores, hecho que ha motivado esa puntuación e incluso, para alertas muy recientes, 
			l estado del análisis global, p. ej. por cuáles ha pasado y por 
			cuáles todavía no, etc. De igual forma, como ya se ha indicado anteriormente, en el caso de un hash Cuckoo ofrece la posibilidad de acceder 
			al report con información del resultado de la ejecución de ese fichero en la sandbox.
			</para>
			<mediaobject>
				<imageobject>
					<imagedata scalefit="1" align="center" width="450" fileref="images/ch12_img002.png"/>
				</imageobject>
				<caption>
					<para>Imagen de la vista de análisis</para>
				</caption>
			</mediaobject>
			<para>Desde esta ventana se puede acceder al detalle del informe generado por cuckoo o fuzzy haciendo click en el botón de descarga del historical.</para>
			<mediaobject>
				<imageobject>
					<imagedata scalefit="1" align="center" width="450" fileref="images/ch12_img005.png"/>
				</imageobject>
				<caption>
					<para>Imagen de la vista del report de Cuckoo</para>
				</caption>
			</mediaobject>
		</section>
		<section>
			<title>Detalle de la evolución</title>
			<para>En esta vista se muestra donde se encontraba el elemento con respecto al tiempo. 
			Se puede observar una línea temporal donde se ubican distintos hitos por los que el elemento transcurre.</para>
			<para>Así mismo, la visualización de la propagación del elemento considerado malicioso y/o a la evolución de dicho elemento 
			(cuándo fue detectado, qué sensor lo interceptó, cambio en su score 
		    de Malware en el tiempo, etc). Estas vistas como tal ya fueron explicadas anteriormente en el manual, 
		    por lo que cabe resaltar su utilidad para un mejor conocimiento de la situación.</para>
			<mediaobject>
				<imageobject>
					<imagedata scalefit="1" align="center" width="450" fileref="images/ch12_img004.png"/>
				</imageobject>
				<caption>
					<para>Imagen de la vista evolución</para>
				</caption>
			</mediaobject>
		</section>
		<section>
			<title>Detalle de la propagación</title>
			<para>En esta vista se muestra el detalle de la propagación del elemento seleccionado mediante un diagrama de grafos donde se puede observar el origen y el destino de red del elemento seleccionado.
			</para>
			<mediaobject>
				<imageobject>
					<imagedata scalefit="1" align="center" width="450" fileref="images/ch12_img003.png"/>
				</imageobject>
				<caption>
					<para>Imagen de la vista de propagación</para>
				</caption>
			</mediaobject>
		</section>
	</section>
	
	<section>
		<title>Operativa global con alertas de email</title>
		<para>Una vez conocido el motivo por el cual un elemento ha sido considerado como Malware y se quiere obtener más información, en el caso de un email desde el propio widget de Recent Malware (botón de detalle en la 
		derecha de la alerta) se puede acceder a una ventana modal con información detallada, donde también se incluyen las cabeceras del correo y datos sobre el origen/destino del email, el asunto, etc.
		</para>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="450" fileref="images/ch12_img009.png"/>
			</imageobject>
			<caption>
				<para>Imagen de alerta de email</para>
			</caption>
		</mediaobject>
		<para>Desde el widget Recent Malware, podemos acceder a la vista de detalle de las alertas de correo electrónico haciendo clic en el email ID, concretamente en el botón que indica información.
		</para>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="450" fileref="images/ch12_img010.png"/>
			</imageobject>
			<caption>
				<para>Imagen de detalle de una alerta de email</para>
			</caption>
		</mediaobject>		
	</section>
	<section>
		<title>Identificación y bloqueo de EndPoints comprometidos</title>
		<para>En este caso, se muestra la operativa a seguir para la identificación de puestos de trabajo que han sido comprometidos y/o en los cuales ha sido identificado un elemento considerado Malware.</para>
		<para>Tomando como referencia el Dashboard de Alerts, también se dispone de los widgets de State Changes e IOC Alerts que muestran alertas de anomalías ocurridas en los EndPoints.
		</para>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="450" fileref="images/ch12_img006.png"/>
			</imageobject>
			<caption>
				<para>Imagen de los widgets State Changes e IOC Alerts</para>
			</caption>
		</mediaobject>
		<para>En el widget State Changes se pueden descargar, en formato CSV, tanto el estado actual como el estado anterior de diversos parámetros del EndPoint. 
		Asimismo, si hacemos clic sobre alguno de los EndPoints que se encuentran listados, 
		aparecerá una nueva ventana donde dispondremos de información detallada y de estado y desde la que se pueden realizar tareas de bloqueo o desbloqueo de la conectividad del EndPoint seleccionado.</para>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="450" fileref="images/ch12_img007.png"/>
			</imageobject>
			<caption>
				<para>Imagen de detalle de un EndPoint</para>
			</caption>
		</mediaobject>
		<para>Cabe destacar, que al aplicar la medidas de contención, mediante bloqueo de las conexiones de red entre ese EndPoint y el resto de la infraestructura, 
		siempre se mantendrá la conectividad con el Manager y con 
		los equipos explícitamente indicados.</para>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="300" fileref="images/ch12_img008.png"/>
			</imageobject>
			<caption>
				<para>Pantalla de bloqueo de un EndPoint</para>
			</caption>
		</mediaobject>
	</section>
</chapter>
