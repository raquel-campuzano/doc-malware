<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>4.9.2. IPS/IDS Settings</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 3.2.1" /><meta name="package" content="redBorder_Malware-Guia_de_instalacion-1.0-es-ES-0.1-0" /><link rel="home" href="index.html" title="Guía de instalación" /><link rel="up" href="ch04s09.html" title="4.9. Edición y configuración de los sensores IPS/IDS" /><link rel="prev" href="ch04s09.html" title="4.9. Edición y configuración de los sensores IPS/IDS" /><link rel="next" href="ch04s09s03.html" title="4.9.3. Servidores" /></head><body><p id="title"><a class="left" href="https://fedorahosted.org/publican"><img alt="Product Site" src="Common_Content/images//image_left.png" /></a><a class="right" href="https://fedorahosted.org/publican"><img alt="Documentation Site" src="Common_Content/images//image_right.png" /></a></p><ul class="docnav top"><li class="previous"><a accesskey="p" href="ch04s09.html"><strong>Anterior</strong></a></li><li class="home">Guía de instalación</li><li class="next"><a accesskey="n" href="ch04s09s03.html"><strong>Siguiente</strong></a></li></ul><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="idm47793245090944"></a>4.9.2. IPS/IDS Settings</h3></div></div></div><div class="para">
				En este apartado encontramos las opciones disponibles para configurar los sensores IPS/IDS y el comportamiento de Snort y PF_RING.
			</div><div class="mediaobject" align="center"><img src="images/ch04_img035.png" align="middle" width="450" /><div class="caption"><div class="para">
					Campos editables para la configuración IPS/IDS (IPS Settings)
				</div></div></div><div class="para">
				<code class="literal">Sensor mode</code>
			</div><div class="para">
				Modo predeterminado del sensor <code class="literal">Default sensor mode</code>: en esta casilla aparecerá el modo que se haya heredado de niveles superiores. En este caso aparecerá la palabra INHERITED seguida, entre paréntesis, del modo que ha sido heredado.
			</div><div class="para">
				En este campo, el usuario podrá elegir entre 4 opciones diferentes:
			</div><div class="orderedlist"><ol><li class="listitem"><div class="para">
						<span class="bold bold"><strong>IDS forwarding:</strong></span> el tráfico es desviado de manera inmediata por el sensor; a continuación, una copia del mismo es analizada. En la práctica, produce el mismo efecto que tener un TAP interpuesto antes del sensor.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>IDS span:</strong></span> únicamente se analiza el tráfico. No se realiza ningún desvío.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>IPS test mode:</strong></span> el tráfico es analizado y, posteriormente, desviado. Este modo es el recomendado para realizar simulaciones de bloqueo de tráfico atacante.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>IPS:</strong></span> esta es la opción más común en entornos de producción. Snort analiza el tráfico y deja pasar o bloquea el tráfico dependiendo de las acciones establecidas para las reglas incluidas en la política activa del sensor.
					</div></li></ol></div><div class="important"><div class="admonition_header"><p><strong>Importante</strong></p></div><div class="admonition"><div class="para">
					El sensor debe estar configurado en <span class="bold bold"><strong>modo IPS Test mode o IPS </strong></span> para el escenario básico de la instalación de redborder IPS.
				</div></div></div><div class="para">
				A continuación, el usuario puede editar una serie de parámetros relacionados con el comportamiento de PF_RING y Snort:
			</div><div class="para">
				<code class="literal">PF_RING Watermark</code>
			</div><div class="para">
				Indica el número mínimo de paquetes entrantes para la función poll.
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="emphasis"><em>Valor bajo de watermark (1):</em></span> reduce la latencia de la función poll, disminuye el throughtput, pero puede incrementar el número de llamadas a la función poll.
					</div></li><li class="listitem"><div class="para">
						<span class="emphasis"><em>Valor alto de watermark</em></span> (nunca debe exceder del 50% del tamaño del anillo o de lo contrario el módulo kernel de PF_RING aumentará este valor): reduce el número de llamadas poll, pero aumenta ligeramente la latencia de paquete.
					</div></li></ul></div><div class="para">
				<code class="literal">PF_RING Clustermode</code>
			</div><div class="para">
				Divide el tráfico entrante en varios anillos. Especialmente indicado para <span class="bold bold"><strong> distribuir la carga</strong></span> al posibilitar que una misma interfaz sea leída desde varios programas de Snort.
			</div><div class="para">
				Indica el número de parámetros usados para determinar el hash y el balanceo del tráfico entre los diferentes procesos Snort. Dependiendo del número elementos que se agregan a la tupla el tráfico se distribuirá de una forma distinta:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						2 tuple flow: IP de origen+IP de destino
					</div></li><li class="listitem"><div class="para">
						4 tuple flow: IP de origen:Puerto_src+IP de destino:Puerto_dst
					</div></li><li class="listitem"><div class="para">
						5 tuple flow: IP de origen:Puerto_src+IP de destino:Puerto_dst+protocolo
					</div></li><li class="listitem"><div class="para">
						6 tuple flow: IP de origen:Puerto_src+IP de destino:Puerto_dst+protocolo+Vlan
					</div></li></ul></div><div class="para">
				<code class="literal">Bypass controlled by Snort</code>
			</div><div class="para">
				Cuando la máquina arranca Snort puede tomar el control de los bypass automáticamente. Esta acción puede provocar un flapping indeseado del firewall para evitar que Snort esté habilitado para el control de los bypass.
			</div><div class="para">
				<code class="literal">Threshold Count</code>
			</div><div class="para">
				Número máximo de ocurrencias en un rango de tiempo determinado para que un evento sea enviado.
			</div><div class="para">
				<code class="literal">Threshold Seconds</code>
			</div><div class="para">
				Tiempo mínimo (en segundos) que tiene que pasar para que un evento sea enviado.
			</div><div class="note"><div class="admonition_header"><p><strong>Nota</strong></p></div><div class="admonition"><div class="para">
					En escenarios donde existe una sobrecarga en el tráfico es posible realizar una configuración que permita mantener la conectividad por encima del análisis de los paquetes.
				</div><div class="para">
					Las opciones de <code class="literal">Best effort Configuration</code> y <code class="literal">Software Bypass Configuration</code> se utilizan para priorizar el reenvío de información sobre el análisis de la misma.
				</div></div></div><div class="para">
				<code class="literal">Best effort Configuration</code>
			</div><div class="para">
				Esta configuración solo aplica en el modo <span class="bold bold"><strong>IDS.</strong></span>
			</div><div class="para">
				Al habilitar esta opción, el tráfico es copiado en una cola interna de trabajo y posteriormente, desviado. Solo en el caso de que no existan más paquetes que desviar, se procesarán los paquetes que se encuentran en la cola interna. Si la cola interna se encontrase llena, los paquetes no serán analizados. Esto aumenta la fiabilidad del desvío, pero disminuye el rendimiento del análisis.
			</div><div class="para">
				<code class="literal">Software Bypass Configuration</code>
			</div><div class="para">
				Esta configuración solo aplica en el modo <span class="bold bold"><strong>IPS.</strong></span>
			</div><div class="para">
				La activación de esta opción implica que, si la ocupación del anillo de la interfaz es alta, el IPS desviará los paquetes sin analizar hasta que la ocupación se encuentre por debajo de otro valor predeterminado.
			</div><div class="important"><div class="admonition_header"><p><strong>Importante</strong></p></div><div class="admonition"><div class="para">
					La configuración del bypass de IPS se realiza a nivel de software. Para determinar la configuración de los bypass a nivel de hardware, consultar el apartado <code class="literal">Segments.</code>
				</div></div></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="ch04s09.html"><strong>Anterior</strong>4.9. Edición y configuración de los sensores IPS/...</a></li><li class="up"><a accesskey="u" href="#"><strong>Subir</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Inicio</strong></a></li><li class="next"><a accesskey="n" href="ch04s09s03.html"><strong>Siguiente</strong>4.9.3. Servidores</a></li></ul></body></html>